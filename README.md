# 웹 지갑 만들기

<br />

## 웹 지갑의 기본 기능

- 키 쌍(비밀키, 공개키)의 생성, 보관
- 지갑 주소(account) 생성
- 지갑 주소에 기록된 잔액 조회
- 트랜잭션 생성( 전자서명 )
- P2P 네트워크 연결과 트랜잭션 배포
- 블록체인의 지급을 검증하는 간단 지급 확인 데이터 구조 보관

<br />

## 잔액 계산 방법

- 사용자의 지갑 주소와 관련된 트랜잭션 데이터를 읽고 미사용 잔액(UTXO) 계산
    - 머클 트리
    - 블룸 필터(알고리즘)

<br />

## 결정성 지갑 주소

- 하나의 마스터키를 이용하여 다수의 비밀키를 생성
- 생성된 비밀키로부터 공개키를 생성
- 생성된 공개키로부터 지갑주소 생성

<br />

### 결정성 지갑 주소 생성 원리

1. 난수열(128비트) + 체크섬(4비트) ==> 루트 시드(데이터)
    - 난수열을 니모닉으로 대체가능
    - 메타 마스크의 경우 니모닉을 사용
2. 루트 시드 * HMAC-SHA2_512(해시 함수) ==> 마스터 비밀키 + 체인코드
3. ((마스터 비밀키 + 인덱스) + 체인코드) * 자식 키 유도 함수 ==> 비밀키 + 체인코드